# 실행 컨텍스트 execution-context
### 자바스크립트의 동작 원리를 담고 있는 핵심 개념

모든 코드는 실행컨텍스트를 통해 실행되고 관리된다.<br>
실행컨텍스트는 식별자(함수,변수, 클래스 등)를 등록하고 관리하는 스코프(=렉시컬환경)과<br>
코드 실행 순서를 관리하는 실행컨텍스트 스택으로 이루어져 있다<br>
![image](https://user-images.githubusercontent.com/85012454/236649058-3b1cc943-08ed-4f8a-b37c-135d27bc45d5.png)

### 자바스크립트는 소스코드의 평가와 실행 과정으로 나눠 처리한다
- 소스코드 평가의 과정
  - 실행컨텍스트를 생성하고 변수, 함수 등의 선언문만 먼저 실행
  - 실행컨텍스트가 관리하는 스코프에 등록한다. ( = 렉시컬 환경의 환경레코드 ) 
- 소스코드 실행
  - 소스코드 평가 과정이 끝나면 선언문을 제외한 소스코드가 순차적으로 실행된다.<br>
    이때 코드 실행에 필요한 정보를 스코프에서 가져온다.( 변수,함수 이름 등 → 평가과정에서 등록한 것들 )<br>
    변수값 등을 할당한 결과는 다시 실행컨텍스트에 등록한다.<br>
![image](https://user-images.githubusercontent.com/85012454/236649073-31eda9dd-cf43-4de2-84bf-0676ec5ffafb.png)
<br>

---
### 실행컨텍스트

- 실행컨텍스트란? <br>
    자바스크립트의 소스코드가 실행되기 위한 환경적 조건을 말한다. 
    (1) 식별자의(변수, 함수) 스코프를 관리하는 렉시컬 환경과
    (2) 소스코드의 실행 순서를 관리하는 실행컨텍스트 스택이 있다. 
    
- 실행 컨텍스트는 00 자료구조로 관리한다. <br>
실행 컨텍스트 스택의 최상위에 존재하는 실행 컨텍스트는 (    ) 이다.<br>
    스택, 현재 실행중인 코드의 실행컨텍스트이다. 
    
- 전역 코드가 평가되는 과정에서의 실행컨텍스트가 어떻게 동작하는지 간단하게 설명해주세요
    
    ```tsx
    var x = 1;
    const y = 2;
    
    function foo () {
      var x = 3;
      const y = 4;
    	console.log( x + y )
    }
    
    foo();
    ```
    
    - 답
        
        < 평 가 >
        
        - 전역 실행 컨텍스트 생성
        - 전역 렉시컬 환경 생성 : 전역 스코프, 전역 객체 프로퍼티/메서드, 빌트인객체 사용하게.
            - 전역 환경 레코드 생성
                - 객체 환경 레코드 생성 : var변수, 함수선언식 함수를 전역변수, 객체로 등록, 관리
                - 선언적 환경 레코드 생성 : let, const 변수를 등록, 관리
            - this바인딩 연결 : 전역 객체와 연결
            - 외부 렉시컬 환경 참조 : 전역 객체의 상위스코프는 없기 때문에 null
        
- 전역 코드가 실행하여 전역 변수 x,y에 값이 할당되고 foo함수가 호출된다. 
이때 자바스크립트는 변수와 함수가 선언된 식별자인지 확인해야 한다. 이를 (  A  ) 이라고 한다. 
(  A  )을 위한 검색은 어디에서 이루어지는가?
    - 식별자 결정,
    - 식별자를 검색할 때는 현재 실행중인 컨텍스트의 렉시컬 환경의 환경 레코드에서 검색하고, 현재 실행 컨텍스트에 없다면 외부 렉시컬 환경 참조 구간에 가서 상위 스코프를 검색한다.
